<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Currency Master Pro</title>
    <style>
        :root {
            --primary: #1b4332;
            --accent: #2d6a4f;
            --glass: rgba(255, 255, 255, 0.92);
            --rate: 1.95583;
        }

        * { box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #d8f3dc 0%, #74c69d 100%);
            padding: 20px;
        }

        /* Динамичен фон */
        .bg-elements {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            opacity: 0.07;
            pointer-events: none;
        }

        .container {
            background: var(--glass);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            width: 100%;
            max-width: 420px;
            border-radius: 30px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.5);
        }

        .header { text-align: center; margin-bottom: 25px; }
        .logo { 
            background: var(--primary); 
            color: white; 
            width: 60px; height: 60px; 
            border-radius: 20px; 
            display: flex; align-items: center; justify-content: center;
            margin: 0 auto 10px; font-weight: bold; font-size: 1.2rem;
        }

        h2 { margin: 0; color: var(--primary); font-size: 1.4rem; }
        .section-title { 
            font-size: 0.8rem; 
            font-weight: bold; 
            color: var(--accent); 
            margin: 20px 0 10px 5px;
            text-transform: uppercase;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding-bottom: 5px;
        }

        .input-group { margin-bottom: 15px; position: relative; }
        label { display: block; font-size: 0.75rem; margin-bottom: 5px; color: #555; padding-left: 10px; }
        
        input {
            width: 100%;
            padding: 14px 18px;
            border-radius: 15px;
            border: 1px solid rgba(0,0,0,0.1);
            background: white;
            font-size: 1.1rem;
            outline: none;
            transition: 0.2s;
        }

        input:focus { border-color: var(--accent); box-shadow: 0 0 10px rgba(45, 106, 79, 0.1); }

        /* Карта за Рестото */
        .change-card {
            background: var(--primary);
            color: white;
            border-radius: 20px;
            padding: 20px;
            margin-top: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .change-item { text-align: center; }
        .change-val { display: block; font-size: 1.3rem; font-weight: bold; margin-top: 5px; }
        .change-label { font-size: 0.7rem; opacity: 0.8; }

        .rate-info { 
            text-align: center; 
            font-size: 0.7rem; 
            color: #777; 
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="bg-elements" id="bg"></div>

    <div class="container">
        <div class="header">
            <div class="logo">€/лв</div>
            <h2>Обмен & Ресто</h2>
        </div>

        <div class="section-title">Валутен Конвертор</div>
        <div class="input-group">
            <label>СУМА В ЕВРО (EUR)</label>
            <input type="number" id="eurIn" placeholder="0.00" inputmode="decimal">
        </div>
        <div class="input-group">
            <label>СУМА В ЛЕВА (BGN)</label>
            <input type="number" id="bgnIn" placeholder="0.00" inputmode="decimal">
        </div>

        <div class="section-title">Калкулатор за Ресто</div>
        <div class="input-group">
            <label>ДЪЛЖИМА СУМА (BGN)</label>
            <input type="number" id="billBgn" placeholder="Въведи сметка" inputmode="decimal">
        </div>
        <div class="input-group">
            <label>ПЛАТЕНО В ЕВРО (EUR)</label>
            <input type="number" id="paidEur" placeholder="Въведи платено" inputmode="decimal">
        </div>

        <div class="change-card">
            <div class="change-item">
                <span class="change-label">РЕСТО В ЛЕВА</span>
                <span class="change-val" id="resBgn">0.00 лв.</span>
            </div>
            <div class="change-item">
                <span class="change-label">РЕСТО В ЕВРО</span>
                <span class="change-val" id="resEur">0.00 €</span>
            </div>
        </div>

        <div class="rate-info">
            Курс: 1.95583 | Професионално задание 2024
        </div>
    </div>

    <script>
        const RATE = 1.95583;

        // Елементи
        const eurIn = document.getElementById('eurIn');
        const bgnIn = document.getElementById('bgnIn');
        const billBgn = document.getElementById('billBgn');
        const paidEur = document.getElementById('paidEur');
        const resBgn = document.getElementById('resBgn');
        const resEur = document.getElementById('resEur');

        // Логика Конвертор
        eurIn.addEventListener('input', () => {
            if (eurIn.value) bgnIn.value = (eurIn.value * RATE).toFixed(2);
            else bgnIn.value = '';
        });

        bgnIn.addEventListener('input', () => {
            if (bgnIn.value) eurIn.value = (bgnIn.value / RATE).toFixed(2);
            else eurIn.value = '';
        });

        // Логика Ресто
        function calcChange() {
            const bill = parseFloat(billBgn.value) || 0;
            const paid = parseFloat(paidEur.value) || 0;
            const paidInBgn = paid * RATE;
            const changeBgn = paidInBgn - bill;

            if (changeBgn > 0) {
                resBgn.innerText = changeBgn.toFixed(2) + ' лв.';
                resEur.innerText = (changeBgn / RATE).toFixed(2) + ' €';
            } else {
                resBgn.innerText = '0.00 лв.';
                resEur.innerText = '0.00 €';
            }
        }

        billBgn.addEventListener('input', calcChange);
        paidEur.addEventListener('input', calcChange);

        // Фон
        const bg = document.getElementById('bg');
        for(let i=0; i<64; i++){
            const s = document.createElement('div');
            s.style.textAlign = 'center';
            s.style.padding = '20px';
            s.innerText = i % 2 === 0 ? '€' : 'лв';
            bg.appendChild(s);
        }
    </script>
</body>
</html>